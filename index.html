<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudentStay - Ø³ÙƒÙ† Ø§Ù„Ø·Ù„Ø§Ø¨</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Ø®Ø· Ø¹Ø±Ø¨ÙŠ -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Ù…Ù„ÙØ§Øª CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/animations.css">
    
    <style>
        /* Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #4361ee, #7209b7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid white;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø³Ø±ÙŠØ¹Ø© */
        .quick-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #06d6a0;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            z-index: 9999;
            animation: slideIn 0.3s ease;
            max-width: 350px;
            font-weight: 500;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        /* Ø¥ØµÙ„Ø§Ø­ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± */
        .user-choice-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .user-choice-modal.show {
            display: flex;
        }
        
        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ */
        .payment-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 80px 0;
            margin-top: 60px;
        }
        
        .plan-badge {
            background: #4361ee;
            color: white;
            padding: 3px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            display: inline-block;
            margin-right: 8px;
        }
        
        .plan-card {
            background: white;
            border: 3px solid #4361ee;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .plan-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(67, 97, 238, 0.2);
        }
        
        .commission-illustration {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        
        .commission-item {
            background: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .commission-item.total {
            background: #06d6a0;
            color: white;
        }
        
        .payment-methods {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 25px;
        }
        
        .payment-method {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            min-width: 120px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .payment-method:hover {
            background: #e9ecef;
            transform: translateY(-5px);
        }
        
        .payment-method i {
            font-size: 2rem;
            color: #4361ee;
            margin-bottom: 10px;
        }
        
        /* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© */
        .commission-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .commission-table th {
            background: #4361ee;
            color: white;
            padding: 15px;
            text-align: right;
        }
        
        .commission-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        .commission-table tr:last-child td {
            border-bottom: none;
        }
        
        .commission-rate {
            display: inline-block;
            padding: 5px 15px;
            background: #06d6a0;
            color: white;
            border-radius: 20px;
            font-weight: bold;
        }
        
        /* Ø²Ø± Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
        .book-now-btn {
            background: #4361ee;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s ease;
            margin-right: 10px;
        }
        
        .book-now-btn:hover {
            background: #3a56d4;
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„ØºØ© */
        .lang-btn {
            padding: 8px 15px;
            border: 2px solid #4361ee;
            background: transparent;
            color: #4361ee;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .lang-btn.active {
            background: #4361ee;
            color: white;
        }
        
        .lang-btn:hover:not(.active) {
            background: #e9ecef;
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¬ÙˆØ§Ù„ */
        @media (max-width: 768px) {
            .commission-illustration {
                flex-direction: column;
            }
            
            .payment-methods {
                flex-direction: column;
                align-items: center;
            }
            
            .payment-method {
                width: 100%;
                max-width: 200px;
            }
            
            .commission-table {
                font-size: 14px;
            }
        }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ØµÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
        .property-image {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
            background-color: #f0f0f0 !important; /* Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© Ø§Ø­ØªÙŠØ§Ø·ÙŠ */
        }
        
        .logo-icon img {
            width: 40px;
            height: 40px;
            object-fit: contain;
            border-radius: 8px;
        }
        
        .footer-logo img {
            width: 40px;
            height: 40px;
            object-fit: contain;
            border-radius: 8px;
        }
        
        .image-preview-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .image-preview {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .image-preview img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            display: block;
        }
        
        .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(239, 35, 60, 0.9);
            color: white;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .remove-image:hover {
            background: #ef233c;
            transform: scale(1.1);
        }
        
        .file-upload-area img {
            max-width: 100%;
            max-height: 200px;
            object-fit: contain;
            border-radius: 8px;
            margin-top: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <!-- Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
    <div class="preloader" id="preloader">
        <div class="loader"></div>
    </div>

    <!-- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
    <div id="userChoiceModal" class="user-choice-modal">
        <div class="choice-container">
            <h2 class="choice-title">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ StudentStay! ğŸ‘‹</h2>
            <p class="choice-subtitle">Ø§Ø®ØªØ± ÙƒÙŠÙ ØªØ±ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù†ØµØ©</p>
            
            <div class="choice-cards">
                <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ -->
                <div class="choice-card student" id="studentChoice">
                    <div class="choice-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Ø·Ø§Ù„Ø¨ / Ø·Ø§Ù„Ø¨Ø©</h3>
                    <p>Ø§Ø¨Ø­Ø« Ø¹Ù† Ø³ÙƒÙ† Ø·Ù„Ø§Ø¨ÙŠ ÙŠÙ†Ø§Ø³Ø¨Ùƒ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯Ù† Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ©</p>
                </div>
                
                <!-- Ø¨Ø·Ø§Ù‚Ø© ØµØ§Ø­Ø¨ Ø§Ù„Ø¹Ù‚Ø§Ø± -->
                <div class="choice-card owner" id="ownerChoice">
                    <div class="choice-icon">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <h3>ØµØ§Ø­Ø¨ Ø¹Ù‚Ø§Ø±</h3>
                    <p>Ø§Ø¹Ø±Ø¶ Ø³ÙƒÙ†Ùƒ Ù„Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¯Ø®Ù„ Ø¥Ø¶Ø§ÙÙŠ</p>
                </div>
            </div>
            
            <a href="#" class="skip-choice" id="skipChoice">ØªØ®Ø·ÙŠ ÙˆØ§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙƒØ²Ø§Ø¦Ø±</a>
        </div>
    </div>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù„ØºØ© -->
    <div class="language-switcher">
        <button class="lang-btn active" onclick="changeLanguage('ar')">Ø¹Ø±Ø¨ÙŠ</button>
        <button class="lang-btn" onclick="changeLanguage('fr')">FranÃ§ais</button>
        <button class="lang-btn" onclick="changeLanguage('en')">English</button>
    </div>

    <!-- Ø§Ù„ØªÙ†Ù‚Ù„ -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <div class="logo-icon">
                    <!-- Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø§Ù„Ø´Ø¹Ø§Ø± -->
                    <i class="fas fa-home"></i>
                </div>
                <div class="logo-text">
                    <span class="logo-main">StudentStay</span>
                    <span class="logo-sub">Ø³ÙƒÙ† Ø§Ù„Ø·Ù„Ø§Ø¨</span>
                </div>
            </a>
            
            <div id="currentUserType" class="user-type-display">
                <i class="fas fa-user"></i>
                <span>Ø²Ø§Ø¦Ø±</span>
            </div>
            
            <div class="nav-menu">
                <a href="#search" class="nav-link active">
                    <i class="fas fa-search"></i>
                    <span>Ø¨Ø­Ø«</span>
                </a>
                <a href="#add-property" class="nav-link">
                    <i class="fas fa-plus-circle"></i>
                    <span>Ø¥Ø¶Ø§ÙØ©</span>
                </a>
                <a href="#payment" class="nav-link payment-link" style="display: none;">
                    <i class="fas fa-credit-card"></i>
                    <span>Ø§Ù„Ø¯ÙØ¹</span>
                </a>
                <a href="#help" class="nav-link">
                    <i class="fas fa-question-circle"></i>
                    <span>Ù…Ø³Ø§Ø¹Ø¯Ø©</span>
                </a>
                <a href="#" class="login-btn">
                    <i class="fas fa-user"></i>
                    <span>Ø¯Ø®ÙˆÙ„</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Ø§Ù„Ù‡ÙŠØ±Ùˆ -->
    <main>
        <section class="hero-section" id="search">
            <div class="container">
                <h1 class="hero-title">
                    Ø§Ø¨Ø­Ø« Ø¹Ù† <span class="highlight">Ø³ÙƒÙ† Ø·Ù„Ø§Ø¨ÙŠ</span> ÙŠÙ†Ø§Ø³Ø¨Ùƒ
                </h1>
                <p class="hero-subtitle">
                    Ø£ÙƒØ«Ø± Ù…Ù† 1000 Ø³ÙƒÙ† Ù…ØªØ§Ø­ ÙÙŠ 12 Ù…Ø¯ÙŠÙ†Ø© Ù…ØºØ±Ø¨ÙŠØ©
                </p>
                
                <!-- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø¨Ø­Ø« -->
                <div class="search-box">
                    <div class="search-inputs">
                        <div class="input-group">
                            <i class="fas fa-map-marker-alt"></i>
                            <input type="text" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø£Ùˆ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©">
                        </div>
                        
                        <div class="input-group">
                            <i class="fas fa-home"></i>
                            <select>
                                <option value="">Ù†ÙˆØ¹ Ø§Ù„Ø³ÙƒÙ†</option>
                                <option value="private">ØºØ±ÙØ© Ø®Ø§ØµØ©</option>
                                <option value="apartment">Ø´Ù‚Ø© ÙƒØ§Ù…Ù„Ø©</option>
                                <option value="studio">Ø§Ø³ØªÙˆØ¯ÙŠÙˆ</option>
                                <option value="shared">Ø³ÙƒÙ† Ù…Ø´ØªØ±Ùƒ</option>
                            </select>
                        </div>
                        
                        <div class="input-group">
                            <i class="fas fa-calendar-alt"></i>
                            <input type="month" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„">
                        </div>
                    </div>
                    
                    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© -->
                    <div class="budget-slider-container">
                        <div class="budget-label">
                            <i class="fas fa-wallet"></i>
                            <span>Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©: <strong id="budgetValue">1500 Ø¯Ø±Ù‡Ù…</strong></span>
                        </div>
                        <input type="range" id="budgetSlider" min="500" max="3000" value="1500" class="budget-slider">
                    </div>
                    
                    <button class="search-button">
                        <i class="fas fa-search"></i>
                        Ø¨Ø­Ø« Ø¹Ù† Ø³ÙƒÙ†
                    </button>
                </div>
            </div>
        </section>

        <!-- Ø§Ù„Ø³ÙƒÙ† Ø§Ù„Ù…ØªØ§Ø­ -->
        <section class="properties-section">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-home"></i>
                    Ø³ÙƒÙ† Ù…ØªØ§Ø­ Ù„Ù„Ø·Ù„Ø§Ø¨
                </h2>
                
                <div class="properties-grid">
                    <!-- Ø¹Ù‚Ø§Ø± 1 (Ø£Ù‚Ù„ Ù…Ù† 1500 Ø¯Ø±Ù‡Ù…) -->
                    <div class="property-card">
                        <div class="property-image" style="background-image: url('https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80');">
                            <span class="property-badge premium">Ù…Ù…ÙŠØ²</span>
                        </div>
                        <div class="property-info">
                            <h3 class="property-title">Ø´Ù‚Ø© Ø·Ù„Ø§Ø¨ÙŠØ© - Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡</h3>
                            <p class="property-location">
                                <i class="fas fa-map-marker-alt"></i>
                                Ø­ÙŠ Ø§Ù„Ù…Ø¹Ø§Ø±ÙŠÙØŒ Ù‚Ø±Ø¨ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©
                            </p>
                            <div class="property-features">
                                <span><i class="fas fa-bed"></i> 2 ØºØ±Ù</span>
                                <span><i class="fas fa-bath"></i> 1 Ø­Ù…Ø§Ù…</span>
                                <span><i class="fas fa-wifi"></i> ÙˆØ§ÙŠ ÙØ§ÙŠ</span>
                            </div>
                            <div class="property-footer">
                                <div class="property-price">
                                    <strong>1,200 Ø¯Ø±Ù‡Ù…</strong>
                                    <span>/Ø´Ù‡Ø±</span>
                                </div>
                                <div class="property-buttons">
                                    <button class="book-now-btn" data-price="1200">
                                        <i class="fas fa-calendar-check"></i>
                                        Ø­Ø¬Ø² Ø§Ù„Ø¢Ù† (Ø¹Ù…ÙˆÙ„Ø© 7%)
                                    </button>
                                    <button class="property-btn view-btn">
                                        <i class="fas fa-eye"></i>
                                        Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø¹Ù‚Ø§Ø± 2 (Ø£ÙƒØ«Ø± Ù…Ù† 1500 Ø¯Ø±Ù‡Ù…) -->
                    <div class="property-card">
                        <div class="property-image" style="background-image: url('https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80');">
                            <span class="property-badge discount">Ø®ØµÙ… 20%</span>
                        </div>
                        <div class="property-info">
                            <h3 class="property-title">Ø§Ø³ØªÙˆØ¯ÙŠÙˆ - Ø§Ù„Ø±Ø¨Ø§Ø·</h3>
                            <p class="property-location">
                                <i class="fas fa-map-marker-alt"></i>
                                Ø­ÙŠ Ø£ÙƒØ¯Ø§Ù„ØŒ Ù‚Ø±Ø¨ Ø§Ù„Ù…ØªØ±Ùˆ
                            </p>
                            <div class="property-features">
                                <span><i class="fas fa-bed"></i> 1 ØºØ±ÙØ©</span>
                                <span><i class="fas fa-bath"></i> 1 Ø­Ù…Ø§Ù…</span>
                                <span><i class="fas fa-utensils"></i> Ù…Ø·Ø¨Ø®</span>
                            </div>
                            <div class="property-footer">
                                <div class="property-price">
                                    <strong>1,800 Ø¯Ø±Ù‡Ù…</strong>
                                    <span>/Ø´Ù‡Ø±</span>
                                </div>
                                <div class="property-buttons">
                                    <button class="book-now-btn" data-price="1800">
                                        <i class="fas fa-calendar-check"></i>
                                        Ø­Ø¬Ø² Ø§Ù„Ø¢Ù† (Ø¹Ù…ÙˆÙ„Ø© 10%)
                                    </button>
                                    <button class="property-btn view-btn">
                                        <i class="fas fa-eye"></i>
                                        Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø¹Ù‚Ø§Ø± 3 (Ø£Ù‚Ù„ Ù…Ù† 1500 Ø¯Ø±Ù‡Ù…) -->
                    <div class="property-card">
                        <div class="property-image" style="background-image: url('https://images.unsplash.com/photo-1555854877-bab0e564b8d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80');">
                            <span class="property-badge new">Ø¬Ø¯ÙŠØ¯</span>
                        </div>
                        <div class="property-info">
                            <h3 class="property-title">ØºØ±ÙØ© - Ù…Ø±Ø§ÙƒØ´</h3>
                            <p class="property-location">
                                <i class="fas fa-map-marker-alt"></i>
                                ÙˆØ³Ø· Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŒ Ù‚Ø±Ø¨ Ø§Ù„Ù…ÙˆØ§ØµÙ„Ø§Øª
                            </p>
                            <div class="property-features">
                                <span><i class="fas fa-bed"></i> 1 ØºØ±ÙØ©</span>
                                <span><i class="fas fa-bath"></i> Ø­Ù…Ø§Ù… Ù…Ø´ØªØ±Ùƒ</span>
                                <span><i class="fas fa-user-friends"></i> Ø³ÙƒÙ† Ù…Ø´ØªØ±Ùƒ</span>
                            </div>
                            <div class="property-footer">
                                <div class="property-price">
                                    <strong>900 Ø¯Ø±Ù‡Ù…</strong>
                                    <span>/Ø´Ù‡Ø±</span>
                                </div>
                                <div class="property-buttons">
                                    <button class="book-now-btn" data-price="900">
                                        <i class="fas fa-calendar-check"></i>
                                        Ø­Ø¬Ø² Ø§Ù„Ø¢Ù† (Ø¹Ù…ÙˆÙ„Ø© 7%)
                                    </button>
                                    <button class="property-btn view-btn">
                                        <i class="fas fa-eye"></i>
                                        Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="show-more-container">
                    <button class="show-more-btn">
                        <i class="fas fa-arrow-down"></i>
                        Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø³ÙƒÙ†
                    </button>
                </div>
            </div>
        </section>

        <!-- Ø¥Ø¶Ø§ÙØ© Ø³ÙƒÙ† -->
        <section class="add-section" id="add-property">
            <div class="container">
                <div class="add-container">
                    <h2 class="section-title">
                        <i class="fas fa-plus-circle"></i>
                        Ù‡Ù„ ØªÙ…Ù„Ùƒ Ø³ÙƒÙ† Ù„Ù„Ø·Ù„Ø§Ø¨ØŸ
                    </h2>
                    <p class="section-subtitle">
                        Ø¹ÙØ±Ø¶ Ø³ÙƒÙ†Ùƒ Ø¹Ù„Ù‰ Ø¢Ù„Ø§Ù Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¯Ø®Ù„ Ø¥Ø¶Ø§ÙÙŠ
                    </p>
                    
                    <form class="add-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label><i class="fas fa-map-marker-alt"></i> Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„</label>
                                <input type="text" placeholder="Ø§Ù„Ø­ÙŠØŒ Ø§Ù„Ø´Ø§Ø±Ø¹ØŒ Ø±Ù‚Ù… Ø§Ù„Ù…Ù†Ø²Ù„" required>
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-tag"></i> Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø´Ù‡Ø±ÙŠ (Ø¯Ø±Ù‡Ù…)</label>
                                <input type="number" placeholder="Ù…Ø«Ø§Ù„: 1500" min="500" max="5000" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label><i class="fas fa-door-open"></i> Ø¹Ø¯Ø¯ Ø§Ù„ØºØ±Ù</label>
                                <select required>
                                    <option value="">Ø§Ø®ØªØ± Ø¹Ø¯Ø¯ Ø§Ù„ØºØ±Ù</option>
                                    <option value="1">1 ØºØ±ÙØ©</option>
                                    <option value="2">2 ØºØ±Ù</option>
                                    <option value="3">3 ØºØ±Ù</option>
                                    <option value="4+">4 ØºØ±Ù Ø£Ùˆ Ø£ÙƒØ«Ø±</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-phone"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                                <input type="tel" placeholder="Ù…Ø«Ø§Ù„: 0612345678" required>
                            </div>
                        </div>
                        
                        <div class="form-group full-width">
                            <label><i class="fas fa-image"></i> ØµÙˆØ± Ø§Ù„Ø³ÙƒÙ†</label>
                            <div class="file-upload-area">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <p>Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„ØµÙˆØ± Ù‡Ù†Ø§ Ø£Ùˆ <span>Ø§Ù†Ù‚Ø± Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</span></p>
                                <input type="file" multiple accept="image/*">
                                <div class="image-preview-container"></div>
                            </div>
                        </div>
                        
                        <button type="submit" class="publish-btn">
                            <i class="fas fa-paper-plane"></i>
                            Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
        <section class="payment-section" id="payment">
            <div class="container">
                <div class="section-header" style="text-align: center; margin-bottom: 50px;">
                    <h2 class="section-title">
                        <i class="fas fa-credit-card" style="color: #4361ee;"></i>
                        Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª
                    </h2>
                    <p class="section-subtitle">
                        Ù†Ø¸Ø§Ù… Ø¯ÙØ¹ Ø¹Ø§Ø¯Ù„ ÙˆÙ…Ø±ÙŠØ­ Ù„Ù„Ø¬Ù…ÙŠØ¹
                    </p>
                </div>

                <!-- Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ù…Ù„Ø§Ùƒ -->
                <div class="payment-card" style="background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); margin-bottom: 40px;">
                    <div class="payment-header" style="text-align: center; margin-bottom: 40px;">
                        <h3 style="color: #4361ee; font-size: 1.8rem; margin-bottom: 15px;">
                            <i class="fas fa-user-tie"></i>
                            Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ù…Ù„Ø§Ùƒ
                        </h3>
                        <p style="color: #666; font-size: 1.1rem;">
                            Ø§Ø´ØªØ±Ø§Ùƒ Ø´Ù‡Ø±ÙŠ Ø¨Ø³ÙŠØ· ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ù† Ø¥Ø¶Ø§ÙØ© Ø¹Ø¯Ø¯ ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ Ù…Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª
                        </p>
                    </div>

                    <!-- Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„ÙˆØ§Ø­Ø¯Ø© -->
                    <div class="single-plan" style="max-width: 400px; margin: 0 auto;">
                        <div class="plan-card" style="background: white; border: 3px solid #4361ee; border-radius: 15px; padding: 30px; text-align: center;">
                            <div class="plan-header" style="margin-bottom: 25px;">
                                <h4 style="color: #4361ee; font-size: 1.5rem; margin-bottom: 15px;">
                                    Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ù„Ø§Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
                                </h4>
                                <div class="plan-price" style="color: #333; font-size: 3rem; font-weight: bold; margin-bottom: 10px;">
                                    50 Ø¯Ø±Ù‡Ù…
                                    <small style="font-size: 1rem; color: #666;">/Ø´Ù‡Ø±</small>
                                </div>
                                <div style="color: #06d6a0; font-size: 1.1rem; font-weight: bold;">
                                    <i class="fas fa-infinity"></i> Ø¹Ù‚Ø§Ø±Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©
                                </div>
                            </div>

                            <ul class="plan-features" style="list-style: none; padding: 0; margin: 0 0 30px 0;">
                                <li style="padding: 12px 0; border-bottom: 1px solid #f0f0f0; color: #555;">
                                    <i class="fas fa-check" style="color: #06d6a0; margin-left: 10px;"></i>
                                    Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø±Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©
                                </li>
                                <li style="padding: 12px 0; border-bottom: 1px solid #f0f0f0; color: #555;">
                                    <i class="fas fa-check" style="color: #06d6a0; margin-left: 10px;"></i>
                                    Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù…ØªÙ‚Ø¯Ù…Ø©
                                </li>
                                <li style="padding: 12px 0; border-bottom: 1px solid #f0f0f0; color: #555;">
                                    <i class="fas fa-check" style="color: #06d6a0; margin-left: 10px;"></i>
                                    Ø¯Ø¹Ù… ÙÙ†ÙŠ Ù…ØªÙƒØ§Ù…Ù„
                                </li>
                                <li style="padding: 12px 0; color: #555;">
                                    <i class="fas fa-check" style="color: #06d6a0; margin-left: 10px;"></i>
                                    ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø³ØªÙ…Ø±Ø©
                                </li>
                            </ul>

                            <button class="subscribe-btn" data-plan="owner" style="width: 100%; padding: 16px; background: #4361ee; color: white; border: none; border-radius: 10px; font-size: 1.1rem; font-weight: bold; cursor: pointer;">
                                Ø§Ø´ØªØ±Ùƒ Ø§Ù„Ø¢Ù† Ø¨Ù€ 50 Ø¯Ø±Ù‡Ù…
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ -->
                <div class="payment-card" style="background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); margin-bottom: 40px;">
                    <div class="payment-header" style="text-align: center; margin-bottom: 30px;">
                        <h3 style="color: #4361ee; font-size: 1.8rem; margin-bottom: 15px;">
                            <i class="fas fa-graduation-cap"></i>
                            Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø·Ø§Ù„Ø¨
                        </h3>
                        <p style="color: #666; font-size: 1.1rem;">
                            Ø¹Ù…ÙˆÙ„Ø© Ø¹Ø§Ø¯Ù„Ø© Ø­Ø³Ø¨ Ø³Ø¹Ø± Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±
                        </p>
                    </div>

                    <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© -->
                    <table class="commission-table">
                        <thead>
                            <tr>
                                <th>Ø³Ø¹Ø± Ø§Ù„Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ø´Ù‡Ø±ÙŠ</th>
                                <th>Ù†Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©</th>
                                <th>Ù…Ø«Ø§Ù„ Ù„Ù„Ø¹Ù…ÙˆÙ„Ø©</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="font-weight: bold;">Ø£Ù‚Ù„ Ù…Ù† 1,500 Ø¯Ø±Ù‡Ù…</td>
                                <td><span class="commission-rate">7%</span></td>
                                <td>Ø¹Ù„Ù‰ 1,000 Ø¯Ø±Ù‡Ù… = 70 Ø¯Ø±Ù‡Ù…</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold;">1,500 Ø¯Ø±Ù‡Ù… Ø£Ùˆ Ø£ÙƒØ«Ø±</td>
                                <td><span class="commission-rate" style="background: #ef476f;">10%</span></td>
                                <td>Ø¹Ù„Ù‰ 2,000 Ø¯Ø±Ù‡Ù… = 200 Ø¯Ø±Ù‡Ù…</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Ù…Ø«Ø§Ù„ ØªÙˆØ¶ÙŠØ­ÙŠ -->
                    <div class="commission-example" style="margin-top: 40px; text-align: center;">
                        <h4 style="color: #333; margin-bottom: 20px;">Ù…Ø«Ø§Ù„ ØªÙˆØ¶ÙŠØ­ÙŠ:</h4>
                        <div class="commission-illustration">
                            <div class="commission-item">
                                <div class="icon">
                                    <i class="fas fa-home"></i>
                                </div>
                                <div class="text">
                                    <strong>Ø³Ø¹Ø± Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±</strong>
                                    <span>1,800 Ø¯Ø±Ù‡Ù…</span>
                                </div>
                            </div>
                            
                            <div class="commission-arrow">
                                <i class="fas fa-plus"></i>
                            </div>
                            
                            <div class="commission-item">
                                <div class="icon">
                                    <i class="fas fa-percentage"></i>
                                </div>
                                <div class="text">
                                    <strong>Ø¹Ù…ÙˆÙ„Ø© 10%</strong>
                                    <span>180 Ø¯Ø±Ù‡Ù…</span>
                                </div>
                            </div>
                            
                            <div class="commission-arrow">
                                <i class="fas fa-equals"></i>
                            </div>
                            
                            <div class="commission-item total">
                                <div class="icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="text">
                                    <strong>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</strong>
                                    <span>1,980 Ø¯Ø±Ù‡Ù…</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="commission-note" style="background: #e7f4ff; padding: 15px; border-radius: 10px; margin-top: 25px; display: flex; align-items: center; justify-content: center; gap: 10px; color: #0066cc;">
                            <i class="fas fa-info-circle"></i>
                            <span>
                                Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© ØªØ¶Ù…Ù† Ø®Ø¯Ù…Ø© Ø¢Ù…Ù†Ø© ÙˆÙ…ÙˆØ«ÙˆÙ‚Ø© Ù„Ù„Ø·Ø§Ù„Ø¨ Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ø®Ù„Ø§Ù„ ÙØªØ±Ø© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ -->
                <div class="payment-card" style="background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.1);">
                    <div class="payment-header" style="text-align: center; margin-bottom: 30px;">
                        <h3 style="color: #4361ee; font-size: 1.8rem; margin-bottom: 15px;">
                            <i class="fas fa-lock"></i>
                            Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¢Ù…Ù†Ø©
                        </h3>
                        <p style="color: #666; font-size: 1.1rem;">
                            Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…Ø´ÙØ±Ø© ÙˆØ¢Ù…Ù†Ø©
                        </p>
                    </div>
                    
                    <div class="payment-methods">
                        <div class="payment-method" data-payment="cih">
                            <i class="fas fa-university"></i>
                            <span>Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</span>
                        </div>
                        
                        <div class="payment-method" data-payment="attijari">
                            <i class="fas fa-mobile-alt"></i>
                            <span>Ø£ØªØ¬ÙŠØ§Ø±ÙŠ Ø¨Ø§ÙŠ</span>
                        </div>
                        
                        <div class="payment-method" data-payment="paypal">
                            <i class="fab fa-paypal"></i>
                            <span>Ø¨Ø§ÙŠ Ø¨Ø§Ù„</span>
                        </div>
                        
                        <div class="payment-method" data-payment="card">
                            <i class="fas fa-credit-card"></i>
                            <span>Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª -->
        <section class="features-section">
            <div class="container">
                <h2 class="section-title">Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± StudentStayØŸ</h2>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Ø¢Ù…Ù† ÙˆÙ…ÙˆØ«ÙˆÙ‚</h3>
                        <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø§Ù„ÙƒÙŠÙ† Ù…ÙˆØ«Ù‚ÙˆÙ†</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>Ø¨Ø­Ø« Ø³Ù‡Ù„</h3>
                        <p>Ø§Ø¨Ø­Ø« Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŒ Ø§Ù„Ø³Ø¹Ø±ØŒ ÙˆØ§Ù„Ù…ÙˆØ§ØµÙØ§Øª</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¨Ø§Ø´Ø±</h3>
                        <p>ØªÙˆØ§ØµÙ„ Ù…Ø¨Ø§Ø´Ø± Ù…Ø¹ Ø§Ù„Ù…Ù„Ø§Ùƒ ÙˆØ§Ù„Ø·Ù„Ø§Ø¨</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-headset"></i>
                        </div>
                        <h3>Ø¯Ø¹Ù… 24/7</h3>
                        <p>ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… Ø¬Ø§Ù‡Ø² Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <!-- Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø§Ù„Ø´Ø¹Ø§Ø± -->
                        <i class="fas fa-home"></i>
                        <div>
                            <h3>StudentStay</h3>
                            <p>Ù…Ù†ØµØ© Ø³ÙƒÙ† Ø§Ù„Ø·Ù„Ø§Ø¨</p>
                        </div>
                    </div>
                    <p class="footer-about">
                        Ù†ÙˆÙØ± Ø³ÙƒÙ† Ø·Ù„Ø§Ø¨ÙŠ Ø¢Ù…Ù† ÙˆÙ…Ø±ÙŠØ­ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯Ù† Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ©
                    </p>
                </div>
                
                <div class="footer-section">
                    <h4>Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h4>
                    <a href="#search">Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø³ÙƒÙ†</a>
                    <a href="#add-property">Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ù„Ø§Ù†</a>
                    <a href="#payment">Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</a>
                    <a href="#help">Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</a>
                    <a href="#">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a>
                </div>
                
                <div class="footer-section">
                    <h4>Ø§ØªØµÙ„ Ø¨Ù†Ø§</h4>
                    <p><i class="fas fa-phone"></i> 0522-123456</p>
                    <p><i class="fas fa-envelope"></i> info@studentstay.ma</p>
                    <p><i class="fas fa-map-marker-alt"></i> Ø§Ù„Ù…ØºØ±Ø¨</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>Â© 2024 StudentStay. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
            </div>
        </div>
    </footer>

    <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰ -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- JavaScript Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¯Ù…Ø¬ Ù‡Ù†Ø§ -->
    <script>
        // ===== Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù…Ø¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª =====
        
        // 1. Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ StudentStay - ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©');
            
            // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            const preloader = document.getElementById('preloader');
            if (preloader) {
                setTimeout(() => {
                    preloader.style.opacity = '0';
                    setTimeout(() => {
                        preloader.style.display = 'none';
                    }, 500);
                }, 1000);
            }
            
            // Ø¥Ø¯Ø§Ø±Ø© ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
            initUserChoice();
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
            setupEvents();
            
            // Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰
            setupBackToTop();
            
            // Ø´Ø±ÙŠØ· Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
            setupBudgetSlider();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±
            loadImages();
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±
            setupImagePreview();
            
            // ØªØ­Ø³ÙŠÙ† Ø£Ø¯Ø§Ø¡ Ø§Ù„ØµÙˆØ±
            optimizeImageLoading();
        });
        
        // 2. ØªÙ‡ÙŠØ¦Ø© ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
        function initUserChoice() {
            const modal = document.getElementById('userChoiceModal');
            const userChoice = localStorage.getItem('userType');
            
            console.log('ğŸ’¾ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚:', userChoice || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯');
            
            if (userChoice) {
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ø³Ø§Ø¨Ù‚
                modal.style.display = 'none';
                updateUserDisplay(userChoice);
            } else {
                // Ø¹Ø±Ø¶ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©
                modal.style.display = 'flex';
                modal.classList.add('show');
            }
        }
        
        // 3. ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function updateUserDisplay(type) {
            const display = document.getElementById('currentUserType');
            if (!display) return;
            
            // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
            display.className = 'user-type-display';
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯
            if (type === 'student') {
                display.classList.add('student-mode');
                display.innerHTML = '<i class="fas fa-graduation-cap"></i><span>ÙˆØ¶Ø¹ Ø§Ù„Ø·Ø§Ù„Ø¨</span>';
            } else if (type === 'owner') {
                display.classList.add('owner-mode');
                display.innerHTML = '<i class="fas fa-user-tie"></i><span>ÙˆØ¶Ø¹ ØµØ§Ø­Ø¨ Ø§Ù„Ø¹Ù‚Ø§Ø±</span>';
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙØ¹ ÙÙŠ Ø§Ù„ØªÙ†Ù‚Ù„
                const paymentLink = document.querySelector('.payment-link');
                if (paymentLink) {
                    paymentLink.style.display = 'flex';
                }
                
                // Ø¥Ø¶Ø§ÙØ© Ø´Ø§Ø±Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø´ØªØ±ÙƒØ§Ù‹
                const isSubscribed = localStorage.getItem('ownerSubscribed') === 'true';
                if (isSubscribed) {
                    const subscriptionBadge = document.createElement('span');
                    subscriptionBadge.className = 'plan-badge';
                    subscriptionBadge.textContent = 'Ù…Ø´ØªØ±Ùƒ';
                    subscriptionBadge.style.cssText = `
                        background: #06d6a0;
                        color: white;
                        padding: 2px 8px;
                        border-radius: 10px;
                        font-size: 11px;
                        margin-right: 8px;
                        font-weight: bold;
                    `;
                    display.insertBefore(subscriptionBadge, display.firstChild);
                }
            } else {
                display.classList.add('visitor-mode');
                display.innerHTML = '<i class="fas fa-user"></i><span>Ø²Ø§Ø¦Ø±</span>';
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ù„ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¶Ø¹
            display.onclick = function() {
                localStorage.removeItem('userType');
                const modal = document.getElementById('userChoiceModal');
                modal.style.display = 'flex';
                modal.classList.add('show');
            };
        }
        
        // 4. Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function selectUserType(type) {
            console.log('âœ… ØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±:', type);
            
            // Ø­ÙØ¸ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
            localStorage.setItem('userType', type);
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
            const modal = document.getElementById('userChoiceModal');
            modal.style.display = 'none';
            modal.classList.remove('show');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            updateUserDisplay(type);
            
            // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
            showNotification(getWelcomeMessage(type));
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† ØµØ§Ø­Ø¨ Ø¹Ù‚Ø§Ø±ØŒ Ø¹Ø±Ø¶ Ø®ÙŠØ§Ø± Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
            if (type === 'owner') {
                setTimeout(() => {
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø´ØªØ±ÙƒØ§Ù‹ Ù…Ø³Ø¨Ù‚Ø§Ù‹
                    const isSubscribed = localStorage.getItem('ownerSubscribed') === 'true';
                    if (!isSubscribed) {
                        showNotification('ğŸ¯ Ø§Ø´ØªØ±Ùƒ Ø§Ù„Ø¢Ù† Ø¨Ù€ 50 Ø¯Ø±Ù‡Ù… Ø´Ù‡Ø±ÙŠØ§Ù‹ Ù„Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø±Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©!', 'info');
                    }
                }, 1500);
            }
        }
        
        // 5. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
        function getWelcomeMessage(type) {
            if (type === 'student') {
                return 'ğŸ“ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙƒØ·Ø§Ù„Ø¨! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø³ÙƒÙ† ÙŠÙ†Ø§Ø³Ø¨Ùƒ.';
            } else if (type === 'owner') {
                return 'ğŸ‘” Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙƒØµØ§Ø­Ø¨ Ø¹Ù‚Ø§Ø±! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø¥Ø¶Ø§ÙØ© Ø³ÙƒÙ†Ùƒ Ù„Ù„Ø·Ù„Ø§Ø¨.';
            } else {
                return 'ğŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙƒØ²Ø§Ø¦Ø±! ÙŠÙ…ÙƒÙ†Ùƒ ØªØµÙØ­ Ø§Ù„Ù…Ù†ØµØ©.';
            }
        }
        
        // 6. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function setupEvents() {
            // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø·Ø§Ù„Ø¨
            const studentChoice = document.getElementById('studentChoice');
            if (studentChoice) {
                studentChoice.addEventListener('click', function() {
                    selectUserType('student');
                });
            }
            
            // Ø§Ø®ØªÙŠØ§Ø± ØµØ§Ø­Ø¨ Ø§Ù„Ø¹Ù‚Ø§Ø±
            const ownerChoice = document.getElementById('ownerChoice');
            if (ownerChoice) {
                ownerChoice.addEventListener('click', function() {
                    selectUserType('owner');
                });
            }
            
            // ØªØ®Ø·ÙŠ (Ø²Ø§Ø¦Ø±)
            const skipChoice = document.getElementById('skipChoice');
            if (skipChoice) {
                skipChoice.addEventListener('click', function(e) {
                    e.preventDefault();
                    selectUserType('visitor');
                });
            }
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„ØºØ©
            const langButtons = document.querySelectorAll('.lang-btn');
            langButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø· Ù…Ù† Ø§Ù„Ø¬Ù…ÙŠØ¹
                    langButtons.forEach(b => b.classList.remove('active'));
                    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø´Ø· Ù„Ù„Ø²Ø± Ø§Ù„Ù…Ø¶ØºÙˆØ·
                    this.classList.add('active');
                    
                    // Ø¥Ø´Ø¹Ø§Ø± ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©
                    const lang = this.textContent.includes('FranÃ§ais') ? 'Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©' : 
                                 this.textContent.includes('English') ? 'Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
                    showNotification(`ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù„ØºØ© ${lang}`);
                });
            });
            
            // Ø²Ø± Ø§Ù„Ø¨Ø­Ø«
            const searchButton = document.querySelector('.search-button');
            if (searchButton) {
                searchButton.addEventListener('click', function() {
                    showNotification('ğŸ” Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø³ÙƒÙ†...');
                });
            }
            
            // Ø£Ø²Ø±Ø§Ø± Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
            const viewButtons = document.querySelectorAll('.view-btn');
            viewButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    showNotification('Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø³ÙƒÙ†...');
                });
            });
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†
            const bookButtons = document.querySelectorAll('.book-now-btn');
            bookButtons.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const propertyCard = this.closest('.property-card');
                    const rentPrice = parseInt(this.dataset.price || '1200');
                    handleStudentBooking(propertyCard, rentPrice);
                });
            });
            
            // Ø²Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²ÙŠØ¯
            const showMoreBtn = document.querySelector('.show-more-btn');
            if (showMoreBtn) {
                showMoreBtn.addEventListener('click', function() {
                    showNotification('ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø³ÙƒÙ†...');
                });
            }
            
            // Ø²Ø± Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
            const publishBtn = document.querySelector('.publish-btn');
            if (publishBtn) {
                publishBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    handlePropertySubmission();
                });
            }
            
            // Ø²Ø± Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ù„Ù„Ù…Ø§Ù„Ùƒ
            const subscribeBtn = document.querySelector('.subscribe-btn');
            if (subscribeBtn) {
                subscribeBtn.addEventListener('click', function() {
                    handleOwnerSubscription();
                });
            }
            
            // Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹
            const paymentMethods = document.querySelectorAll('.payment-method');
            paymentMethods.forEach(method => {
                method.addEventListener('click', function() {
                    const paymentType = this.dataset.payment;
                    showNotification(`ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: ${this.querySelector('span').textContent}`);
                });
            });
        }
        
        // 7. Ø¥Ø¹Ø¯Ø§Ø¯ Ø´Ø±ÙŠØ· Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
        function setupBudgetSlider() {
            const slider = document.getElementById('budgetSlider');
            const value = document.getElementById('budgetValue');
            
            if (slider && value) {
                slider.addEventListener('input', function() {
                    value.textContent = `${this.value} Ø¯Ø±Ù‡Ù…`;
                });
            }
        }
        
        // 8. Ø¥Ø¹Ø¯Ø§Ø¯ Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰
        function setupBackToTop() {
            const backToTop = document.getElementById('backToTop');
            
            if (backToTop) {
                window.addEventListener('scroll', function() {
                    if (window.scrollY > 300) {
                        backToTop.style.display = 'flex';
                    } else {
                        backToTop.style.display = 'none';
                    }
                });
                
                backToTop.addEventListener('click', function() {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }
        }
        
        // 9. Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNotification(message, type = 'info') {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù†ØµØ±
            const notification = document.createElement('div');
            notification.className = 'quick-notification';
            
            // ØªØ­Ø¯ÙŠØ¯ Ù„ÙˆÙ† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
            let backgroundColor = '#06d6a0'; // Ø§ÙØªØ±Ø§Ø¶ÙŠ
            if (type === 'success') backgroundColor = '#06d6a0';
            if (type === 'error') backgroundColor = '#ef233c';
            if (type === 'warning') backgroundColor = '#ffd166';
            if (type === 'info') backgroundColor = '#4361ee';
            
            notification.innerHTML = `
                <div class="notification-content">
                    <span>${message}</span>
                    <button class="notification-close">&times;</button>
                </div>
            `;
            
            notification.style.background = backgroundColor;
            
            // Ø²Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
            const closeBtn = notification.querySelector('.notification-close');
            closeBtn.addEventListener('click', function() {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ù„Ù„ØµÙØ­Ø©
            document.body.appendChild(notification);
            
            // Ø¥Ø²Ø§Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }
            }, 5000);
        }
        
        // 10. ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©
        function changeLanguage(lang) {
            let message;
            if (lang === 'ar') {
                message = 'âœ… ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
            } else if (lang === 'fr') {
                message = 'âœ… Langue changÃ©e en franÃ§ais';
            } else {
                message = 'âœ… Language switched to English';
            }
            showNotification(message, 'success');
        }
        
        // 11. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­Ø¬Ø² Ø§Ù„Ø·Ø§Ù„Ø¨
        function handleStudentBooking(propertyCard, rentAmount) {
            const userType = localStorage.getItem('userType');
            
            if (userType !== 'student') {
                showNotification('ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø·Ø§Ù„Ø¨Ø§Ù‹ Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø­Ø¬Ø²', 'warning');
                return;
            }
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¹Ø±
            let commissionRate, commissionRateText;
            
            if (rentAmount < 1500) {
                commissionRate = 0.07; // 7%
                commissionRateText = '7%';
            } else {
                commissionRate = 0.10; // 10%
                commissionRateText = '10%';
            }
            
            const commission = Math.round(rentAmount * commissionRate);
            const totalAmount = rentAmount + commission;
            
            const confirmBooking = confirm(`
                ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø²:
                
                Ø³Ø¹Ø± Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±: ${rentAmount} Ø¯Ø±Ù‡Ù…
                Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ù†ØµØ© (${commissionRateText}): ${commission} Ø¯Ø±Ù‡Ù…
                Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalAmount} Ø¯Ø±Ù‡Ù…
                
                Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø­Ø¬Ø²ØŸ
            `);
            
            if (confirmBooking) {
                showNotification('Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø­Ø¬Ø²...', 'info');
                
                setTimeout(() => {
                    // Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©
                    const transactions = JSON.parse(localStorage.getItem('paymentTransactions') || '[]');
                    transactions.push({
                        type: 'student_booking',
                        amount: totalAmount,
                        commission: commission,
                        commission_rate: commissionRateText,
                        rentAmount: rentAmount,
                        date: new Date().toISOString(),
                        status: 'completed',
                        property: propertyCard.querySelector('.property-title')?.textContent || 'Ø³ÙƒÙ† Ø·Ù„Ø§Ø¨ÙŠ'
                    });
                    localStorage.setItem('paymentTransactions', JSON.stringify(transactions));
                    
                    showNotification('âœ… ØªÙ… Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.', 'success');
                }, 2000);
            }
        }
        
        // 12. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù‚Ø§Ø± Ù„Ù„Ù…Ø§Ù„Ùƒ
        function handlePropertySubmission() {
            const userType = localStorage.getItem('userType');
            
            if (userType !== 'owner') {
                showNotification('ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ØµØ§Ø­Ø¨ Ø¹Ù‚Ø§Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø³ÙƒÙ†', 'error');
                return;
            }
            
            const isSubscribed = localStorage.getItem('ownerSubscribed') === 'true';
            if (!isSubscribed) {
                showNotification('ÙŠØ¬Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø±Ø§Øª', 'warning');
                document.getElementById('payment').scrollIntoView({ behavior: 'smooth' });
                return;
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù‚Ø§Ø±
            showNotification('ğŸ“¤ Ø¬Ø§Ø±ÙŠ Ù†Ø´Ø± Ø¥Ø¹Ù„Ø§Ù†Ùƒ...', 'info');
            
            setTimeout(() => {
                // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª
                const currentCount = parseInt(localStorage.getItem('ownerPropertiesCount') || '0');
                localStorage.setItem('ownerPropertiesCount', (currentCount + 1).toString());
                
                showNotification('âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
                updatePropertiesCounter();
            }, 1500);
        }
        
        // 13. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ù…Ø§Ù„Ùƒ
        function handleOwnerSubscription() {
            const userType = localStorage.getItem('userType');
            
            if (userType !== 'owner') {
                showNotification('ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ØµØ§Ø­Ø¨ Ø¹Ù‚Ø§Ø± Ù„Ù„Ø§Ø´ØªØ±Ø§Ùƒ', 'error');
                return;
            }
            
            const isSubscribed = localStorage.getItem('ownerSubscribed') === 'true';
            if (isSubscribed) {
                showNotification('Ø£Ù†Øª Ù…Ø´ØªØ±Ùƒ Ø¨Ø§Ù„ÙØ¹Ù„!', 'info');
                return;
            }
            
            const confirmPayment = confirm(`
                ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ:
                
                ğŸ  Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ
                ğŸ’° Ø§Ù„Ø³Ø¹Ø±: 50 Ø¯Ø±Ù‡Ù… / Ø´Ù‡Ø±
                âœ… Ù…Ù…ÙŠØ²Ø§Øª: Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø±Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©
                
                Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØŸ
            `);
            
            if (!confirmPayment) return;
            
            showNotification('Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹...', 'info');
            
            setTimeout(() => {
                // Ø­ÙØ¸ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
                localStorage.setItem('ownerSubscribed', 'true');
                
                // Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©
                const transactions = JSON.parse(localStorage.getItem('paymentTransactions') || '[]');
                transactions.push({
                    type: 'owner_subscription',
                    amount: 50,
                    date: new Date().toISOString(),
                    status: 'completed',
                    duration: 'monthly'
                });
                localStorage.setItem('paymentTransactions', JSON.stringify(transactions));
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
                updateUserDisplay('owner');
                
                showNotification('âœ… ØªÙ… Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø±Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©.', 'success');
            }, 2000);
        }
        
        // 14. ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª
        function updatePropertiesCounter() {
            const count = localStorage.getItem('ownerPropertiesCount') || '0';
            console.log(`Ø¹Ø¯Ø¯ Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ: ${count}`);
        }
        
        // 15. Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
        function calculateCommission(rentAmount) {
            if (rentAmount < 1500) {
                return {
                    rate: 0.07,
                    rateText: '7%',
                    amount: Math.round(rentAmount * 0.07)
                };
            } else {
                return {
                    rate: 0.10,
                    rateText: '10%',
                    amount: Math.round(rentAmount * 0.10)
                };
            }
        }
        
        // ===== Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙˆØ± =====
        
        // 16. ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±
        function loadImages() {
            console.log('ğŸ–¼ï¸ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±...');
            
            // Ø¥Ø¶Ø§ÙØ© ØµÙˆØ± Ù„Ù„Ø¹Ù‚Ø§Ø±Ø§Øª Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
            const propertyImages = document.querySelectorAll('.property-image');
            propertyImages.forEach((img, index) => {
                if (!img.style.backgroundImage || img.style.backgroundImage === 'none') {
                    const imageUrls = [
                        'https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80',
                        'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80',
                        'https://images.unsplash.com/photo-1555854877-bab0e564b8d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'
                    ];
                    
                    const url = imageUrls[index % imageUrls.length];
                    img.style.backgroundImage = `url('${url}')`;
                    console.log(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ù„Ù„Ø¹Ù‚Ø§Ø± ${index + 1}: ${url}`);
                }
            });
        }
        
        // 17. Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±
        function setupImagePreview() {
            const fileInputs = document.querySelectorAll('input[type="file"][accept*="image"]');
            
            fileInputs.forEach(input => {
                input.addEventListener('change', function(e) {
                    const files = e.target.files;
                    const fileUploadArea = this.closest('.file-upload-area');
                    let previewContainer = fileUploadArea.querySelector('.image-preview-container');
                    
                    if (!previewContainer) {
                        previewContainer = document.createElement('div');
                        previewContainer.className = 'image-preview-container';
                        fileUploadArea.appendChild(previewContainer);
                    }
                    
                    // Ù…Ø³Ø­ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
                    previewContainer.innerHTML = '';
                    
                    // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§ÙŠÙ†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
                    for (let i = 0; i < files.length; i++) {
                        const file = files[i];
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            const preview = document.createElement('div');
                            preview.className = 'image-preview';
                            
                            preview.innerHTML = `
                                <img src="${e.target.result}" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">
                                <button class="remove-image" data-index="${i}">Ã—</button>
                            `;
                            
                            previewContainer.appendChild(preview);
                            
                            // Ø­Ø¯Ø« Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØµÙˆØ±Ø©
                            preview.querySelector('.remove-image').addEventListener('click', function() {
                                preview.remove();
                                removeFileFromInput(input, i);
                            });
                        };
                        
                        reader.readAsDataURL(file);
                    }
                });
            });
        }
        
        // 18. Ø¥Ø²Ø§Ù„Ø© Ù…Ù„Ù Ù…Ù† input
        function removeFileFromInput(input, indexToRemove) {
            const dt = new DataTransfer();
            const files = input.files;
            
            for (let i = 0; i < files.length; i++) {
                if (i !== indexToRemove) {
                    dt.items.add(files[i]);
                }
            }
            
            input.files = dt.files;
        }
        
        // 19. ØªØ­Ø³ÙŠÙ† Ø£Ø¯Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±
        function optimizeImageLoading() {
            // Ø¥Ø¶Ø§ÙØ© lazy loading Ù„Ù„ØµÙˆØ± Ø®Ø§Ø±Ø¬ Ø§Ù„Ø´Ø§Ø´Ø©
            const images = document.querySelectorAll('img:not([loading])');
            images.forEach(img => {
                const rect = img.getBoundingClientRect();
                if (rect.top > window.innerHeight * 2) {
                    img.loading = 'lazy';
                }
            });
            
            // ØªØ£Ø«ÙŠØ± fade in Ù„Ù„ØµÙˆØ± Ø¹Ù†Ø¯ Ø¸Ù‡ÙˆØ±Ù‡Ø§
            const propertyImages = document.querySelectorAll('.property-image');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '0';
                        entry.target.style.transition = 'opacity 0.5s ease';
                        setTimeout(() => {
                            entry.target.style.opacity = '1';
                        }, 100);
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            propertyImages.forEach(img => observer.observe(img));
        }
        
        // 20. ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', function() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ± Ø¯ÙˆØ±ÙŠØ§Ù‹ Ù„ØªØ¬Ù†Ø¨ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ÙƒØ§Ø´
            setInterval(() => {
                const propertyImages = document.querySelectorAll('.property-image[style*="background-image"]');
                propertyImages.forEach(img => {
                    const currentBg = img.style.backgroundImage;
                    if (currentBg && currentBg.includes('url')) {
                        // Ø¥Ø¶Ø§ÙØ© timestamp Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ÙƒØ§Ø´
                        const newBg = currentBg.replace(/(\?.*)?$/, '?t=' + Date.now());
                        img.style.backgroundImage = newBg;
                    }
                });
            }, 30000);
        });
        
        // 21. Ø¬Ø¹Ù„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…ØªØ§Ø­Ø© Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹
        window.selectUserType = selectUserType;
        window.skipChoice = function() { selectUserType('visitor'); };
        window.changeLanguage = changeLanguage;
        window.showNotification = showNotification;
        window.calculateCommission = calculateCommission;
        
        console.log('âœ… Ù†Ø¸Ø§Ù… StudentStay Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª!');
    </script>
</body>
                    </html>
